(function(e){function y(e,c){if(e){if(c){var a=b.GetConfig(c);if("undefined"==typeof a||!1==a.option.debug)return;e=b.GetTabViewUID(c)+" > "+e}y.log(e)}}function h(d,c){this.TabView=d;this.option=c;this.userOption=null;this.TabArray=[];this.PanelArray=[];this.TabsMoveObj={MaxOffset:0,MinOffset:0,ShowAreaWidthTemp:null,ShowAreaBase:0,TabButtonBase:0,StepDistance:-100,toString:function(a,b){"undefined"==typeof b&&(b="");var g;g=b+" \u5f53\u524d\u79fb\u52a8\u6570\u636e\u4fe1\u606f: "+("\n\t -> \u504f\u79fb\u539f\u70b9: \t\t"+
this.MaxOffset);g+="\n\t -> \u504f\u79fb\u6781\u9650: \t\t"+this.MinOffset;g+="\n\t -> \u663e\u793a\u533a\u57df\u6682\u5b58\u5bbd\u5ea6: \t"+this.ShowAreaWidthTemp;g+="\n\t -> \u9009\u9879\u5361\u663e\u793a\u533a\u57df\u57fa\u70b9: \t"+this.ShowAreaBase;g+="\n\t -> \u9009\u9879\u5361\u6309\u94ae\u57fa\u70b9: \t"+this.TabButtonBase;g+="\n\t -> \u6b65\u8fdb\u5411\u91cf: \t\t"+this.StepDistance;"undefined"!=typeof a&&l(g,a);return g}};this.AdvancePanel=this.AddButtonTemp=null;this.TabCount=0;"undefined"==
typeof h._i_initialized_i_&&(h.prototype.addButtonOption={title:"",width:23,closable:!1,type:"TabAddButton",onClick:function(a){var f=a.TabView;if(!(0<e(".TabButtonArea",f).children(".TabTemporaryBtn").length)){var g=a.AddButtonTemp,r=null;if(null!=g)r=e("input[type='text']",g);else{var d={title:a.option.tabMessage.AddText,width:a.option.tabWidth,closable:!1,type:"TabTemporaryBtn",onClick:function(){return!1}};!0!==a.option.noAdvance&&(d.title=a.option.tabMessage.AddText2);d=b.ExtendTabs(d);g=a.CreateTabElement(d);
a.SetTabWidth(g,d.width);a.SetElementHeight(g);d=g.children(".TabButtonPackage");d.html("");r=e("<input type='text'/>");d.append(r);r.blur(function(){var e=b.Trim(r.val());r.val("");g.detach();""!=e&&!1!=b.Exec(a.option.onAddClick,[b.ExtendTabs({caption:e}),b.GetAPI(f)],f)&&(b.AddTabButton(f,{caption:e}),e=!0);var d=a.TabArray.length-1;!0!==e&&0<=d&&(a.TabArray[d].css("margin-right",0),a.RefreshTabsWidth(),a.MoveTabsAfterUpdate())});r.keydown(function(a){if(13==a.which)return r.blur(),!1;27==a.which&&
r.dblclick()});r.dblclick(function(){!0!==a.option.noAdvance&&(r.val(""),a.ShowAdvance(),r.blur())});a.AddButtonTemp=g}d=a.TabArray.length-1;0<=d&&(d=a.TabArray[d],d.css("margin-right",""+a.option.spacing+"px"));!1==a.CanScroll()?this.before(g):e(".TabButtonArea",f).eq(0).append(g);a.RefreshTabsWidth();e.fx.off=!0;a.MoveToTabButton(g);e.fx.off=!1;r.focus();return!1}}},h.prototype.GetTabIndex=function(a){var b=-1;e.each(this.TabArray,function(g,d){if(d.get(0)==e(a).get(0))return b=g,!1});return b},
h.prototype.GetTabObject=function(a){var b=null,a=Math.abs(a);this.TabArray.length>a&&(b=this.TabArray[a]);return b},h.prototype.GetPanelObject=function(a){var f;if(a instanceof e)f=a.data(b.Tag.TabUID);else if(b.isType(a,"String"))f=a;else return;if(!b.isType(f,"Undefined")){var g=null;e.each(this.PanelArray,function(a,e){if(!b.isType(e.data(b.Tag.TabUID),"Undefined")&&e.data(b.Tag.TabUID)===f)return g=e,g.data("PanelArrayIndex",a),!1});return g}},h.prototype.ExecSelfFun=function(a,f){b.Exec(a,f,
this.TabView)},h.prototype.GetActiveTab=function(){var a=null;e.each(this.TabArray,function(b,g){if(g.hasClass("TabActive"))return a=g,!1});return a},h.prototype.SetActiveTab=function(a){if(b.isType(a,"Number")&&(a=this.GetTabObject(a),null==a))return;e(".TabButton",this.TabView).removeClass("TabActive");a.addClass("TabActive");return a},h.prototype.ShowActiveTab=function(a,f){var g=this;b.isType(a,"Undefined")&&(a=g.GetActiveTab());if(null==a)return null;var d=b.GetTabOption(a);if(null==d||!1===
d.enable)return null;var c=g.GetPanelObject(a),h=null,m=null;null!=c&&(h=c.children(".TabPanelPackage"),m=h.children(".TabContent").eq(0),0>=m.length&&(m=e("<div class='TabContent' />"),h.html(""),h.append(m)));null==f&&(f=[],f[0]=b.GetAPI(g.TabView),f[1]=m,f[2]=c);if(!1===b.Exec(d.onActive,f,a))return!1;g.SetActiveTab(a);g.MoveToTabButton(a);if(null!=c){var l=e(".TabPanelsArea",g.TabView).eq(0).children(".TabPanel");if(c.is(":hidden")){l.hide();l.css("z-index",-1);c.css("opacity",0);c.show();c.css("z-index",
0);var l=!b.isType(g.option.panelPadding,"Number")?0:g.option.panelPadding,l=!b.isType(d.panelPadding,"Number")?l:d.panelPadding,l=Math.abs(l),s=2*l;h.width(c.width()-s);h.height(c.height()-s);h.css("top",l+"px");c.animate({opacity:"+=1"},"slow",function(){var a=d.ajax;if(null!=a){var f=e.extend({},b.defaultAjax);b.isURL(a)?f.url=a:b.isType(a,"Object")?b.isURL(a.url)?(f.url=a.url,e.isFunction(a.success)&&b.isType(a.dataType,"String")&&""!==b.Trim(a.dataType)&&(f.dataType=a.dataType),b.isType(a.type,
"String")&&""!==b.Trim(a.dataType)&&(f.type=a.type),b.isType(a.data,"Undefined")||(f.data=a.data)):f=null:f=null;null!=f&&(m.addClass("TabLoading"),m.html(""),e.ajax({url:f.url,type:f.type,dataType:f.dataType,data:f.data,complete:function(f,g){b.Exec(a.complete,[f,g],m)},success:function(f,g,d){m.removeClass("TabLoading");e.isFunction(a.success)?b.Exec(a.success,[f,g,d],m):m.html(f)},error:function(f,e,d){m.removeClass("TabLoading");m.append(g.option.tabMessage.LoadingFail);b.Exec(a.error,[f,e,d],
m)}}))}else if(f=m.data(b.Tag.IframeURL),b.isURL(f)){var l=e("iframe.TabContent",c).is(":hidden");b.ClearIframe(e("iframe",c));m.remove();m=e("<iframe class='TabContent' height='100%' width='100%' frameborder='0' scrolling='auto' onerror=\"this.src='http://"+f+"';\" >"+g.option.tabMessage.ConnectFail+": '"+f+"'</iframe>");m.data(b.Tag.IframeURL,f);h.append(m);!0===l&&m.hide();m.addClass("TabLoading").load(function(){m.removeClass("TabLoading")});m.attr("src",f)}})}}return a},h.prototype.GetTabLocation=
function(a){var b=this.TabsMoveObj.TabButtonBase,b=b+a.get(0).offsetLeft,a=this.GetNowOffset(0);return a+=this.TabsMoveObj.ShowAreaBase+b},h.prototype.CreateTabElement=function(a,f){var g=this,d=null;switch(f){case "div":d=e("<div class='TabButton'/>");break;default:d=e("<li class='TabButton'/>")}g.SetTabElement(d,a);g.option.activeType===b.ActiveType[1]&&d.mouseover(function(){d.click()});e.isFunction(a.onClick)&&(a.onActive=a.onClick);d.click(function(f){d.children(".TabButtonPackage").css("opacity",
1);d.children(".TabCloseButton").css("opacity",1);if(!1===b.GetTabOption(d).enable)d.children(".TabButtonPackage").css("opacity",0.4),d.children(".TabCloseButton").css("opacity",0.4);else{var c=b.GetAPI(e(this).parents(".TabMainArea").eq(0)),k=g.GetPanelObject(d),h=null;null!=k&&(h=e(".TabContent",k));d.data(b.Tag.TabSpec)!==b.Tag.TabSpec?!1!==b.Exec(g.option.onTabActive,[c,h,k,f],d)&&!1!==g.ShowActiveTab(d,[c,h,k,f])&&b.Exec(g.option.onTabActived,[c,h,k,f],d):b.Exec(a.onClick,[g,c,f],d)}});if(!0===
a.closable||"boolean"!=typeof a.closable&&!0===g.option.tabClosable){var c=g.option.tabMessage.Close;null!=a.closeMessage&&(c=a.closeMessage);var h=e("<div class='TabCloseButton' title='"+c+"'/>");d.append(h);h.click(function(f){d.children(".TabButtonPackage").css("opacity",1);h.css("opacity",1);if(!1===b.GetTabOption(d).enable)d.children(".TabButtonPackage").css("opacity",0.4),h.css("opacity",0.4);else{var c=b.GetAPI(e(this).parents(".TabMainArea").eq(0)),k=g.GetPanelObject(d),l=null;null!=k&&(l=
e(".TabContent",k));!1!==b.Exec(g.option.onTabClose,[c,l,k,f],d)&&!1!==b.Exec(a.onClose,[c,l,k,f],d)&&(g.RemoveTabButton(d),b.Exec(g.option.onTabClosed,[c,l,k,f],d))}f.stopPropagation()})}!1===a.enable&&(d.children(".TabButtonPackage").css("opacity",0.4),d.children(".TabCloseButton").css("opacity",0.4));return d},h.prototype.SetTabElement=function(a,f){var g=a.children(".TabButtonPackage");0>=g.length&&(a.html(""),g=e("<div class='TabButtonPackage'/>"),a.append(g));a.css("margin","0");a.css("padding",
"3px");!1==this.option.scrollable&&a.css("margin-bottom",""+this.option.lineHeight+"px");b.isType(f.type,"Undefined")&&(b.isType(f.cssId,"String")?a.attr("id",b.Process(f.cssId)):!0===this.option.autoTabId&&b.isType(this.option.tabIdText,"String")&&a.attr("id",b.Process(this.option.tabIdText)+"_"+this.TabArray.length),b.isType(f.cssClass,"String")&&a.addClass(b.Process(f.cssClass,"CssClass")),b.isType(this.option.tabCssClass,"String")&&a.addClass(b.Process(this.option.tabCssClass,"CssClass")),a.data(b.Tag.TabUID,
this.option.name+"_Tab_"+this.TabCount++));b.SetTabOption(a,f);null!=f.icon&&g.append("<img class='TabIcon' alt='-' src='"+f.icon+"' />");!b.isType(f.caption,"String")&&!b.isType(f.caption,"Number")&&(f.caption=b.defaultOption.tabs.caption);null!=f.image?(a.css("padding","0"),g.append("<img class='TabImage' alt='"+f.caption+"' src='"+f.image+"' />"),g=e(".TabIcon",g),0<g.length&&(g.css("position","absolute"),g.css("top",3),g.css("left",3))):b.isType(f.type,"Undefined")?g.append("<label class='TabCaption'>"+
f.caption+"</label>"):b.isType(f.type,"Undefined")||(a.addClass(f.type),a.data(b.Tag.TabSpec,b.Tag.TabSpec),a.addClass(b.Tag.TabSpec));!b.isType(f.title,"String")&&!b.isType(f.title,"Number")&&(f.title=f.caption);a.attr("title",f.title);g=f.index;if(!b.isType(g,"Number")||0>g)g=b.defaultOption.tabs.index;a.data(b.Tag.TabIndex,g);return a},h.prototype.CreatePanelElement=function(a,f){function g(a){return b.Trim(a.replace(/\s+/g,c+" "))+c}b.isType(f,"Undefined")&&(f=b.GetTabOption(a));if(null==f||!b.isType(f.type,
"Undefined"))return null;var d=e("<div class='TabPanel'/>"),c="_P";b.isType(f.cssId,"String")?d.attr("id",b.Process(f.cssId)+c):!0===this.option.autoTabId&&b.isType(this.option.tabIdText,"String")&&d.attr("id",b.Process(a.attr("id"))+c);b.isType(f.cssClass,"String")&&d.addClass(b.Process(f.cssClass,"CssClass",g));b.isType(this.option.tabCssClass,"String")&&d.addClass(b.Process(this.option.tabCssClass,"CssClass",g));d.data(b.Tag.TabUID,a.data(b.Tag.TabUID));var h=e("<div class='TabPanelPackage'/>");
d.append(h);d.hide();d.css("z-index",-1);return d},h.prototype.SetElementHeight=function(a,b){return this.SetElementWidth(a,b,!0)},h.prototype.SetElementWidth=function(a,b,g){if(b){var d="width";!0==g&&(d="height");a.css(d,""+b+"px")}else!0==g?this.SetTabHeight(a):this.SetTabWidth(a);return b},h.prototype.SetTabHeight=function(a){var f=this.option,g=f.tabHeight,g=g-b.GetStyleWidth(a,!0);g<f.tabMinHeight&&(g=f.tabMinHeight);if(0<e(".TabImage",a).length){var d=g-6;d<f.tabMinHeight&&(g+=f.tabMinHeight-
d)}a.css("height",""+g+"px");return g},h.prototype.SetTabWidth=function(a,f,g){var d=this.option,e=d.tabWidth;f&&(e=f);e-=b.GetStyleWidth(a);e<d.tabMinWidth&&!0!==g&&(e=d.tabMinWidth);a.css("width",""+e+"px");return e},h.prototype.AddNewTabButtons=function(a,b,d){l("\n\t\tAdd Tab > \u6dfb\u52a0\u9009\u9879\u5361\u6309\u94ae\u5f00\u59cb, \u6570\u91cf: "+(e.isArray(a)?a.length:1),this.TabView);if(e.isArray(a))for(i=a.length-1;0<=i;i--)this.AddTabButton(a[i],b);else this.AddTabButton(a,b);"boolean"==
typeof b&&(d=b);!0!==d&&this.RefreshTabButton();l("Add Tab > \u6dfb\u52a0\u9009\u9879\u5361\u6309\u94ae\u5b8c\u6210\n\n",this.TabView)},h.prototype.RefreshTabButton=function(){var a=this.TabView;l("Refresh Button > \u5237\u65b0\u9009\u9879\u5361\u7ec4\u6570\u636e\u5f00\u59cb",a);var f=e(".TabButtonArea",a).eq(0);b.SortBubble(this.TabArray,function(a,f){a=+a.data(b.Tag.TabIndex);f=+f.data(b.Tag.TabIndex);return a-f});if(0<this.TabArray.length){for(i=this.TabArray.length-1;0<=i;i--)f.prepend(this.TabArray[i]),
this.TabArray[i].css("margin-right",""+this.option.spacing+"px"),this.TabArray[i].data(b.Tag.TabIndex,i);this.TabArray[this.TabArray.length-1].css("margin-right","0")}l("-- \u9009\u9879\u5361\u6309\u94ae\u91cd\u65b0\u6392\u5e8f, \u9009\u9879\u5361\u6309\u94ae\u6570\u91cf: "+this.TabArray.length,a);this.RefreshTabsWidth();l("Refresh Button > \u5237\u65b0\u9009\u9879\u5361\u7ec4\u6570\u636e\u5b8c\u6bd5",a)},h.prototype.AddTabButton=function(a,f){if(null!=this.TabView){var d=this.TabView,c=e(".TabButtonArea",
d).eq(0);b.isType(f,"Number")&&(a.index=f);var k=this.CreateTabElement(a);if(!1===f)c.append(k),k.css("margin-left",""+this.option.spacing+"px");else if(c.prepend(k),this.TabArray.unshift(k),!0===this.option.usePanel){c=this.CreatePanelElement(k,a);e(".TabPanelsArea",d).eq(0).append(c);this.PanelArray.push(c);var d=e("<div class='TabContent'/>"),h=a.content;if(!b.isType(a.ajax,"String")&&null==a.ajax&&(b.isType(h,"String")||b.isType(h,"Object"))){var l=e(h);0<l.length?d.append(l):b.isURL(h)&&d.data(b.Tag.IframeURL,
h)}c.children(".TabPanelPackage").append(d)}this.SetTabHeight(k);null!=a.width?this.SetTabWidth(k,a.width,"undefined"!=typeof a.type?!0:!1):this.SetTabWidth(k);!0==a.active&&this.SetActiveTab(k);return k}},h.prototype.RemoveTabButton=function(a){var f=this;l("\n\t\tRemove Tab > \u9009\u9879\u5361\u6309\u94ae\u5220\u9664\u5f00\u59cb",f.TabView);var d=a.length-1,c=0;a.each(function(){var a=e(this);-1<f.GetTabIndex(a)?a.animate({width:0,opacity:0},500,function(){a.hide();var e=!1;a.hasClass("TabActive")&&
(e=!0);f.RemoveTabPanel(a.data(b.Tag.TabUID));a.remove();f.TabArray.splice(f.GetTabIndex(a),1);c++;e&&0<f.TabArray.length?(f.RefreshTabButton(),f.ShowActiveTab(f.TabArray[0]),d--):0>=d?(f.RefreshTabButton(),f.MoveTabsAfterUpdate(),l("Remove Tab > \u9009\u9879\u5361\u6309\u94ae\u5220\u9664\u5b8c\u6210, \u5171\u5220\u9664\u9009\u9879\u5361\u6570\u91cf: "+c+"\u4e2a\n\n",f.TabView)):d--}):d--})},h.prototype.RemoveTabPanel=function(a){var f=this,d=f.GetPanelObject(a);null!=d&&d.animate({height:0,opacity:0},
500,function(){f.PanelArray.splice(d.data("PanelArrayIndex"),1);b.ClearIframe(e("iframe",d));d.remove()})},h.prototype.RemoveAddButton=function(a){var b=this.TabView,d=e(".TabButtonArea",b).eq(0).children("."+this.addButtonOption.type);if(!(0>=d.length||this.GetShowAreaWidth()>=a)){a-=d.get(0).offsetWidth+this.option.spacing;d.remove();e(".TabRightTools",b).children("."+this.addButtonOption.type).show();var d=e(".TabShowArea",b).eq(0),c=this.TabsMoveObj.ShowAreaWidthTemp;null!=c?(d.css("width",""+
c+"px"),this.TabsMoveObj.ShowAreaWidthTemp=null):d.css("width",""+a+"px");d.children(".TabButtonArea").eq(0).css("width",""+a+"px");l("\u79fb\u9664\u5185\u90e8'\u6dfb\u52a0\u6309\u94ae'",b)}},h.prototype.CreateAddButton=function(){var a=this.TabView;if(!(0<e(".TabButtonArea",a).eq(0).children("."+this.addButtonOption.type).length||!0===this.option.noTools)){var d=this.AddTabButton(b.ExtendTabs(this.addButtonOption),!1);d.attr("title",this.option.tabMessage.Add);e(".TabRightTools",a).children("."+
this.addButtonOption.type).hide();var g=this.GetShowAreaWidth();this.TabsMoveObj.ShowAreaWidthTemp=g;if(!0==this.option.scrollable){var c=this.GetTabsWidth(),k=e(".TabShowArea",a).eq(0);c<g?k.css("width",""+(g+d.get(0).offsetWidth+this.option.spacing)+"px"):k.css("width",""+c+"px");k=e(".TabButtonArea",k).eq(0);k.css("width",""+c+"px")}l("\u521b\u5efa\u5185\u90e8'\u6dfb\u52a0\u6309\u94ae', \u5f53\u524d\u663e\u793a\u533a\u57df\u5bbd\u5ea6: "+c,a)}},h.prototype.MoveTabsAfterUpdate=function(){if(!1==
this.option.scrollable)return!1;var a=this.GetNowOffset(0);if(0<=a)return this.MoveTabs(1),!0;var b=this.GetTabsWidth(),b=b+a-this.GetShowAreaWidth();if(0>b)return this.MoveTabs(b),!0},h.prototype.CanScroll=function(a,b){var d=!1;if(!0==this.option.scrollable){if("number"!=typeof a||!0==isNaN(a))a=this.GetTabsWidth();if("number"!=typeof b||!0==isNaN(b))b=this.GetShowAreaWidth();a>b&&(d=!0)}return d},h.prototype.ShowScroll=function(a,d){var g=this.TabView,c=!0,k=e(".TabScrollBtn",g),k=k.slice(0,2);
!0==d?k.is(":hidden")||(l("\u9690\u85cf\u6eda\u52a8\u6309\u94ae",g),k.hide(),this.CreateAddButton(),c=!1):k.is(":hidden")&&(l("\u663e\u793a\u6eda\u52a8\u6309\u94ae",g),k.show());this.EnabledScrollingLeft(c);this.EnabledScrollingRight(c);b.Exec(a,null,g)},h.prototype.HideScroll=function(a){this.ShowScroll(a,!0)},h.prototype.EnabledScrollingLeft=function(a,b,d){l("\u8bbe\u7f6e'\u5de6'\u6eda\u52a8\u6309\u94ae\u542f\u7528\u72b6\u6001: "+a,this.TabView);this.EnabledScrolling(e(".TabLeftBtn",this.TabView),
a,b,d)},h.prototype.EnabledScrollingRight=function(a,b,d){l("\u8bbe\u7f6e'\u53f3'\u6eda\u52a8\u6309\u94ae\u542f\u7528\u72b6\u6001: "+a,this.TabView);this.EnabledScrolling(e(".TabRightBtn",this.TabView),a,b,d)},h.prototype.EnabledScrolling=function(a,d,e,c){if("none"!=a.css("display")){var k=!1;if(!e||"number"!=typeof e||0>=e)k=!0,"function"==typeof e&&(c=e);var h=this;!0==d?(a.data(b.Tag.ScollEnabled,"true"),!0==k?(a.css("opacity",1),h.ExecSelfFun(c)):a.animate({opacity:1},e,"linear",function(){h.ExecSelfFun(c)})):
(a.data(b.Tag.ScollEnabled,"false"),!0==k?(a.css("opacity",0.4),h.ExecSelfFun(c)):a.animate({opacity:0.4},e,"linear",function(){h.ExecSelfFun(c)}))}else a.data(b.Tag.ScollEnabled,"false")},h.prototype.GetLeftScollEnabled=function(a){return(!0==a?e(".TabRightBtn",this.TabView):e(".TabLeftBtn",this.TabView)).data(b.Tag.ScollEnabled)},h.prototype.GetRightScollEnabled=function(){return this.GetLeftScollEnabled(!0)},h.prototype.CheckScrollEnabled=function(a){e(".TabButtonArea",this.TabView).eq(0);var b=
this.GetNowOffset(0);0>b&&b>this.TabsMoveObj.MinOffset?(b=!1,"false"==this.GetLeftScollEnabled()&&(this.EnabledScrollingLeft(!0,250,a),a=null,b=!0),"false"==this.GetRightScollEnabled()&&(this.EnabledScrollingRight(!0,250,a),b=!0),!1==b&&this.ExecSelfFun(a)):0<=b?(this.EnabledScrollingLeft(!1,250,a),0!=this.TabsMoveObj.MinOffset&&"false"==this.GetRightScollEnabled()&&this.EnabledScrollingRight(!0,250)):b<=this.TabsMoveObj.MinOffset&&(this.EnabledScrollingRight(!1,250,a),0!=this.TabsMoveObj.MinOffset&&
"false"==this.GetLeftScollEnabled()&&this.EnabledScrollingLeft(!0,250))},h.prototype.GetShowAreaWidth=function(){var a=this.TabView.get(0),b=e(".TabShowArea",a).eq(0);b.width(a.offsetWidth-e(".TabLeftTools",a).eq(0).get(0).offsetWidth-e(".TabRightTools",a).eq(0).get(0).offsetWidth-e(".TabLeftBtn",a).eq(0).get(0).offsetWidth-e(".TabRightBtn",a).eq(0).get(0).offsetWidth);return b.get(0).clientWidth},h.prototype.GetTabsWidth=function(a){var d=this.TabArray,g=0,c=this.option.spacing,k=d.length-1;for(i=
0;i<=k;i++){var h=d[i].outerWidth();0!=h&&(g+=h,i<k&&(g+=c))}d=e(".TabButtonArea",this.TabView).children("."+b.Tag.TabSpec);k=d.length;if(!1!=a&&0<k)for(i=k-1;0<=i;i--)a=+d.css("margin-left").replace("px"),isNaN(a)&&(a=0),k=+d.css("margin-right").replace("px"),isNaN(k)&&(k=0),a=Math.max(a,k),g=0>=a?g+(d.get(0).offsetWidth+c):g+(d.get(0).offsetWidth+a);return g},h.prototype.CheckScrollVisibility=function(a){l("\u68c0\u67e5\u5e76\u8c03\u6574\u6eda\u52a8\u6309\u94ae\u7684\u53ef\u89c1\u6027",this.TabView);
this.CanScroll(a,this.GetShowAreaWidth())?this.ShowScroll():this.HideScroll()},h.prototype.RefreshTabsWidth=function(){if(!0==this.option.scrollable){l("Refresh Width > \u5237\u65b0\u9009\u9879\u5361\u7ec4\u5bbd\u5ea6\u5f00\u59cb",this.TabView);var a=this.GetTabsWidth();this.RemoveAddButton(a);e(".TabButtonArea",this.TabView).eq(0).css("width",""+a+"px");l("-- \u66f4\u65b0\u9009\u9879\u5361\u7ec4\u5bbd\u5ea6, \u9009\u9879\u5361\u7ec4\u5bbd\u5ea6: "+a,this.TabView);this.RefreshTabsMoveObj();this.CheckScrollVisibility(a);
l("Refresh Width > \u5237\u65b0\u9009\u9879\u5361\u7ec4\u5bbd\u5ea6\u5b8c\u6bd5",this.TabView);return a}return null},h.prototype.RefreshTabsMoveObj=function(){var a=this.GetShowAreaWidth(),b=this.GetTabsWidth();this.TabsMoveObj.MinOffset=b>a?a-b:0;this.TabsMoveObj.toString(this.TabView,"\u5237\u65b0\u9009\u9879\u5361\u7ec4\u79fb\u52a8\u6570\u636e\u4fe1\u606f,")},h.prototype.UseScroll=function(a){var b=e(".TabButtonArea",this.TabView).eq(0);if(!0==a){l("== \u542f\u7528\u6eda\u52a8\u529f\u80fd ==",
this.TabView);this.option.scrollable=!0;b.css("width",""+this.GetTabsWidth()+"px");b.css("position","relative");b.children(".TabButton").css("margin-bottom","0");this.TabsMoveObj.StepDistance=this.option.moveOffset;this.RefreshTabsWidth();var b=b.children(".TabActive").eq(0),d=this.GetNowOffset(0);1==b.length?this.MoveToTabButton(b):d>=this.TabsMoveObj.MaxOffset?this.MoveToLeft():d<=this.TabsMoveObj.MinOffset&&this.MoveToRight();l("== \u542f\u7528\u6eda\u52a8\u529f\u80fd\u7ed3\u675f ==",this.TabView)}else l("== \u7981\u7528\u6eda\u52a8\u529f\u80fd ==",
this.TabView),a=this.option.scrollable=!1,this.HideScroll(),b.css("width","100%"),b.css("position","static"),b.css("left",0),b.children(".TabButton").css("margin-bottom",""+this.option.lineHeight+"px");return a},h.prototype.GetNowOffset=function(a){var b=+e(".TabButtonArea",this.TabView).eq(0).css("left").replace("px","");!0==isNaN(b)&&(b=a);return b},h.prototype.MoveToTabButton=function(a){!0==this.CanScroll()&&(l("\u79fb\u52a8\u5230\u6307\u5b9a\u7684\u9009\u9879\u5361\u6309\u94ae ===",this.TabView),
this.MoveTabs(-this.GetTabLocation(a)))},h.prototype.MoveToPosition=function(a,d,e){a-=this.GetNowOffset(0);!0===e&&b.isType(d,"Number")&&(d=Math.abs(a/d));this.MoveTabs(a,d)},h.prototype.MoveToLeft=function(a,b){l("\u5411"+(!0==a?"\u53f3":"\u5de6")+"\u6eda\u52a8 ===",this.TabView);var d=Math.abs(this.TabsMoveObj.StepDistance);!0==a?d=-d:"function"==typeof a&&!b&&(b=a);this.MoveTabs(d,b)},h.prototype.MoveToRight=function(a){this.MoveToLeft(!0,a)},h.prototype.MoveTabs=function(a,b,d){var c=this;"function"==
typeof b&&(d=b);"number"!=typeof b&&(b="slow");var k=c.GetNowOffset(0);l("\u6eda\u52a8\u5f00\u59cb, \u5f53\u524d\u504f\u79fb\u4f4d\u7f6e: "+k,c.TabView);c.RefreshTabsMoveObj();if(0==k&&0<a||k==c.TabsMoveObj.MinOffset&&0>a)c.CheckScrollEnabled(d),l("\u5f53\u524d\u4f4d\u7f6e\u65e0\u6cd5\u6eda\u52a8, \u4e2d\u6b62, \u5f53\u524d\u504f\u79fb\u4f4d\u7f6e: "+k,c.TabView);else{var h=a+k;0<h?a-=h:h<c.TabsMoveObj.MinOffset&&(a=c.TabsMoveObj.MinOffset-h+a);0==a?(c.CheckScrollEnabled(d),l("\u5b9e\u9645\u6b65\u8fdb\u91cf\u4e3a: 0, \u6eda\u52a8\u4e2d\u6b62, \u5f53\u524d\u504f\u79fb\u4f4d\u7f6e: "+
k,c.TabView)):e(".TabButtonArea",c.TabView).eq(0).clearQueue().animate({left:"+="+a+"px"},b,function(){c.CheckScrollEnabled(d);l("\u6eda\u52a8\u7ed3\u675f, \u5b9e\u9645\u6b65\u8fdb\u91cf: "+a+", \u5f53\u524d\u504f\u79fb\u4f4d\u7f6e: "+c.GetNowOffset(),c.TabView)})}},h.prototype.ShowAdvance=function(){var a=this;if(!0!==a.option.noAdvance){var d=a.AdvancePanel;if(null!=d){d.get(0).SetController(null,1,a.option);b.SetConfig(d,a);var c=e("body"),h=c.children(".JQueryTabViewMask").eq(0);0>=h.length&&
(h=e("<div class='JQueryTabViewMask'/>"),h.click(function(){h.is(":animated")||a.CloseAdvance()}),c.append(h));h.width(e(document).width());h.height(e(document).height());h.css("position","absolute");h.css("top",0);h.css("left",0);h.css("z-index",99998);h.css("opacity",0);h.show();h.animate({opacity:0.4},"slow",function(){d.css("z-index",99999);b.MoveToWindowCenter(d);d instanceof e&&d.show();(!0!==e.support.scriptEval||!0!==e.support.style)&&b.GetAPI(d).RefreshTabView();b.GetAPI(d).ShowTab(0)})}}},
h.prototype.CloseAdvance=function(){if(!0!==this.option.noAdvance){var a=this.AdvancePanel;b.SetConfig(a,void 0);a instanceof e&&a.hide();mask=e("body").children(".JQueryTabViewMask").animate({opacity:0},"slow",function(){mask.hide()})}},h.prototype.Refresh=function(){this.CanScroll&&(this.RefreshTabsWidth(),this.RefreshTabsMoveObj(),this.MoveTabsAfterUpdate())},h.prototype.Init=function(){function a(a,d){a.data(b.Tag.TabsMove,"false");"true"===a.data(b.Tag.ScollEnabled)&&a.data(b.Tag.TabTimeOut,
setTimeout(function(){a.data(b.Tag.TabsMove,"true");c.MoveToPosition(d,k.moveSpeed,!0)},400))}function d(a){var e=a.data(b.Tag.TabTimeOut);if("undefined"!=typeof e&&null!=e&&(clearTimeout(e),a.data(b.Tag.TabTimeOut,null),"true"===a.data(b.Tag.TabsMove)))var f=setTimeout(function(){z.stop();c.CheckScrollEnabled();clearTimeout(f)},250)}var c=this,h=c.TabView,k=c.option,y=b.defaultOption;l("\u5f00\u59cb\u6784\u9020\u63d2\u4ef6HTML\u5185\u90e8\u7ed3\u6784",h);var m=e("<div class='TabLeftTools'/>"),v=
e("<div class='TabRightTools'/>"),s=e("<div class='TabLeftBtn TabScrollBtn'>&nbsp;</div>"),w=e("<div class='TabRightBtn TabScrollBtn'>&nbsp;</div>"),n=e("<div class='TabShowArea'/>"),z=e("<ul class='TabButtonArea'/>"),A=e("<div class='TabToolsArea'/>"),x=e("<div class='TabPanelsArea'/>"),D=e("<div class='TabPanelsWrap'/>").hide();h.append(m);h.append(s);h.append(n);h.append(w);h.append(v);h.append(A);h.append(x);n.append(z);x.append(D);b.isType(k.panelHeight,"Number")?0>k.panelHeight&&(k.panelHeight=
Math.abs(k.panelHeight)):k.panelHeight=0.618*h.outerWidth();x.height(k.panelHeight);!0!==c.option.usePanel&&x.hide();l("\u4e3b\u8981\u7ed3\u6784\u6784\u9020\u5b8c\u6bd5, \u5f00\u59cb\u6dfb\u52a0\u9009\u9879\u5361\u6309\u94ae",h);null!=k.tabs&&c.AddNewTabButtons(k.tabs);if(!0!==k.noTools){l("\u6dfb\u52a0\u5de5\u5177\u6309\u94ae",h);var B=function(a,b){!0==b?(a.attr("title",k.tabMessage.Expansion),a.children(".TabButtonPackage").text("\u2228")):(a.attr("title",k.tabMessage.Shrink),a.children(".TabButtonPackage").text("\u2227"))},
n={caption:k.tabMessage.Expansion,width:19,closable:!1,type:"TabExpanBtn",onClick:function(){B(this,!0==b.TriggerScroll(h));return!1}},n=b.ExtendTabs(n),A=c.CreateTabElement(n,"div");B(A,k.scrollable);m.append(A);c.addButtonOption.caption=k.tabMessage.Add;m=b.ExtendTabs(c.addButtonOption);x=c.CreateTabElement(m,"div");v.append(x);for(var m=[[A,n.width],[x,m.width]],n=m.length,u=0;u<n;u++)c.SetTabWidth(m[u][0],m[u][1],!0),c.SetElementHeight(m[u][0]),m[u][0].css("margin","0 3px");var p=e(".JQueryTabViewAdvance",
e("body")).eq(0);if(!0!==k.noAdvance&&0>=p.length){p=e("<div class='JQueryTabViewAdvance TabAdvance'><h5 class='TabAdvanceTitle'>\u9009\u9879\u5361\u8fdb\u7ea7\u8bbe\u7f6e</h5><div class='TabAdvancePackage'/></div>");e("body").append(p);var m=b.StringFormat("<tr><td class='TabAdvanceLabel TabBlockStyleBlue'>{0}</td><td class='TabAdvanceInput'>{1}</td></tr>",["{0}","<input type='{2}' id='JQueryTabViewAdvance_{1}'/>"]),n=b.StringFormat(m,["{0}","{1}","text"]),t=e("<table cellspacing='0' cellpadding='0'>"+
b.StringFormat(n,["Caption","caption"])+b.StringFormat(n,["Title","title"])+b.StringFormat(n,["Index","index"])+b.StringFormat(n,["Close Message","closeMessage"])+b.StringFormat(m,["Closable","closable","checkbox"])+b.StringFormat(n,["Tabs Amount","amount"])+"</table>"),o=e("<div><div><div class='TabAdvanceLabel_2'><input type='radio' name='JQueryTabViewAdvance_Content' value='content'/> Content <span style='font-size:15px;'>( HTML , URL or CSS Selector )</span></div><div style='position:relative;border: 1px solid #ade;'><div class='JQueryTabViewMask'></div><textarea rows='3' id='JQueryTabViewAdvance_content'></textarea></div></div><div><div class='TabAdvanceLabel_2'><input type='radio' name='JQueryTabViewAdvance_Content' value='ajax'/> Ajax</div><div style='position:relative;'><div class='JQueryTabViewMask'></div><table class='TabAdvanceExtend' cellspacing='0' cellpadding='0'>"+
b.StringFormat(n,["URL","url"])+b.StringFormat("<tr><td class='TabAdvanceLabel TabBlockStyleBlue'>{0}</td><td class='TabAdvanceInput'>{1}</td></tr>",["Type","<select id='JQueryTabViewAdvance_type'><option value='GET'>GET</option><option value='POST'>POST</option></select>"])+b.StringFormat(n,["Data Type","dataType"])+b.StringFormat("<tr><td class='TabAdvanceLabel TabBlockStyleBlue'>{0}</td><td class='TabAdvanceInput'>{1}</td></tr>",["Data","<textarea rows='4' id='JQueryTabViewAdvance_data'></textarea>"])+
"</table></td></div></div>"),q=e("<table cellspacing='0' cellpadding='0'>"+b.StringFormat(n,["Css ID","cssId"])+b.StringFormat(n,["Css Class","cssClass"])+b.StringFormat(n,["Image URL","image"])+b.StringFormat(n,["Icon URL","icon"])+b.StringFormat(n,["Button Width","width"])+b.StringFormat(n,["Panel Padding","padding"])+"</table>"),C=p.children(".TabAdvancePackage");C.JQueryTabView({tabs:[{caption:"\u5e38\u89c4",content:t,onActive:function(a,b,d){d.parents(".TabPanelsArea").eq(0).css("border-right-style",
"solid").css("border-bottom-style","solid")}},{caption:"\u5185\u5bb9",content:o,onActive:function(a,b,d){d.parents(".TabPanelsArea").eq(0).css("border-style","none")}},{caption:"\u5916\u89c2",content:q,onActive:function(a,b,d){d.parents(".TabPanelsArea").eq(0).css("border-right-style","solid").css("border-bottom-style","solid")}},{caption:"\u4e8b\u4ef6",title:"'\u4e8b\u4ef6'\u5f53\u524d\u4e0d\u53ef\u7528",enable:!1}],active:1,activeType:"hover",spacing:0,panelPadding:0,tabWidth:127,tabHeight:28,tabClosable:!1,
noTools:!0,onReady:function(a){b.SetAPI(p,a);a=b.GetConfig(this);p.width(550);p.find(".TabButton").css("background-image","none").css("border","1px solid #adf").css("border-bottom-color","transparent");a=a.option.panelHeight-2*a.option.panelPadding;t.height(a);q.height(a);o.height(a).css("overflow","hidden").width(e(".TabPanelsArea",C).innerWidth()-2);e(".TabAdvanceExtend",o).height(a-o.children("div").eq(0).outerHeight()-e(".TabAdvanceLabel_2",o).eq(1).outerHeight()-4);a=e("input:radio",o);a.click(function(a){e(".JQueryTabViewMask",
o).show();e(".TabAdvanceLabel_2",o).removeClass("TabDisable").addClass("TabBlockStyleGreen");e(this).parent(".TabAdvanceLabel_2").addClass("TabDisable").removeClass("TabBlockStyleGreen").next("div").children(".JQueryTabViewMask").hide();a.stopPropagation()});e(".TabAdvanceLabel_2",o).click(function(){e(this).children("input:radio").click()});a.eq(0).click();var d=e("#JQueryTabViewAdvance_closable",t);d.click(function(a){a.stopPropagation()});d.parent(".TabAdvanceInput").css("cursor","pointer").click(function(){d.click()});
e.extend(p.get(0),{SetController:function(a,c,f){1>p.parent("body").length&&e("body").append(p);null==a&&(a=e.extend({},y.tabs));b.isType(c,"Number")||(c=1);null!=f&&(null==a.closable&&(a.closable=f.tabClosable),a.closeMessage=f.tabMessage.Close,null==a.width&&(a.width=f.tabWidth),null==a.panelPadding&&(a.panelPadding=f.panelPadding));e("#JQueryTabViewAdvance_caption",t).val(a.caption);e("#JQueryTabViewAdvance_title",t).val(a.title);e("#JQueryTabViewAdvance_index",t).val(a.index);e("#JQueryTabViewAdvance_closeMessage",
t).val(a.closeMessage);!1===a.closable?d.removeAttr("checked"):d.attr("checked","checked");e("#JQueryTabViewAdvance_amount",t).val(c);null==a.ajax||!b.isURL(a.ajax)&&!b.isURL(a.ajax.url)?e("input:radio[value='content']",o).click():e("input:radio[value='ajax']",o).click();e("#JQueryTabViewAdvance_content",o).val(a.content);c=e.extend({},b.defaultAjax);b.isURL(a.ajax)?(c.url=a.ajax,c=e.extend(a.ajax,c)):null!=a.ajax&&(c.url=a.ajax.url,e.extend(c,a.ajax));e("#JQueryTabViewAdvance_url",o).val(c.url);
e("#JQueryTabViewAdvance_type",o).val(c.type);e("#JQueryTabViewAdvance_dataType",o).val(c.dataType);e("#JQueryTabViewAdvance_data",o).val(c.data);e("#JQueryTabViewAdvance_cssId",q).val(a.cssId);e("#JQueryTabViewAdvance_cssClass",q).val(a.cssClass);e("#JQueryTabViewAdvance_image",q).val(a.image);e("#JQueryTabViewAdvance_icon",q).val(a.icon);e("#JQueryTabViewAdvance_width",q).val(a.width);e("#JQueryTabViewAdvance_padding",q).val(a.panelPadding)},GetTabOption:function(a){var c=e.extend({},y.tabs);c.caption=
b.Trim(e("#JQueryTabViewAdvance_caption",t).val());c.title=b.Trim(e("#JQueryTabViewAdvance_title",t).val());c.index=parseInt(e("#JQueryTabViewAdvance_index",t).val(),10);c.closeMessage=b.Trim(e("#JQueryTabViewAdvance_closeMessage",t).val());c.closable="checked"===d.attr("checked");c.content=b.Trim(e("#JQueryTabViewAdvance_content",o).val());"ajax"==e("input[name='JQueryTabViewAdvance_Content']:checked").val()&&(c.ajax={url:b.Trim(e("#JQueryTabViewAdvance_url",o).val()),type:e("#JQueryTabViewAdvance_type",
o).val(),dataType:b.Trim(e("#JQueryTabViewAdvance_dataType",o).val()),data:b.Trim(e("#JQueryTabViewAdvance_data",o).val())});c.cssId=b.Trim(e("#JQueryTabViewAdvance_cssId",q).val());c.cssClass=b.Trim(e("#JQueryTabViewAdvance_cssClass",q).val());c.image=b.Trim(e("#JQueryTabViewAdvance_image",q).val());c.icon=b.Trim(e("#JQueryTabViewAdvance_icon",q).val());c.width=parseFloat(e("#JQueryTabViewAdvance_width",q).val());c.panelPadding=parseFloat(e("#JQueryTabViewAdvance_padding",q).val());""==c.title&&
(c.title=null);c.index=b.isType(c.index,"Number")?Math.abs(c.index):b.defaultOption.tabs.index;null!=a&&""==c.closeMessage&&(c.closeMessage=a.tabMessage.Close);if(null!=c.ajax)if(b.isURL(c.ajax.url))if(""==c.ajax.dataType&&(c.ajax.dataType=b.defaultAjax.dataType),""==c.ajax.data)c.ajax.data=b.defaultAjax.data;else try{c.ajax.data=e.parseJSON(c.ajax.data)}catch(f){c.ajax.data=b.defaultAjax.data}else c.ajax=null;""==c.cssId&&(c.cssId=null);""==c.cssClass&&(c.cssClass=null);b.isURL(c.image)||(c.image=
null);b.isURL(c.icon)||(c.icon=null);c.width=b.isType(c.width,"Number")?Math.abs(c.width):null;c.panelPadding=b.isType(c.panelPadding,"Number")?Math.abs(c.panelPadding):null;a=parseInt(e("#JQueryTabViewAdvance_amount",t).val(),10);if(b.isType(a,"Number")&&1<a){var g=[];for(u=0;u<a;u++)g.push(e.extend({},c));c=g}return c}});a=e("<input type='button' value='OK'/>");a.css("margin-right","50px");var c=e("<input type='button' value='Cancel'/>"),f=e("<div style='text-align:center;margin:10px 0;'/>");f.append(a);
f.append(c);p.append(f);c.click(function(){var a=b.GetConfig(p);null!=a&&a.CloseAdvance()});a.click(function(){var a=b.GetConfig(p);if(null!=a){var d=a.TabView,e=p.get(0).GetTabOption(a.option);!1!==b.Exec(a.option.onAddClick,[e,b.GetAPI(d)],d)&&(b.AddTabButton(d,e),c.click())}});p.css("left",-p.outerWidth());p.css("top",-p.outerHeight());p.hide()}})}c.AdvancePanel=p}else k.scrollable=!0,k.noAdvance=!0;l("\u63d2\u4ef6HTML\u5185\u90e8\u7ed3\u6784\u6784\u9020\u5b8c\u6bd5",h);if(b.isType(k.active,"Number"))k.active=
Math.abs(k.active),c.ShowActiveTab(c.SetActiveTab(k.active));else if("string"==typeof k.active){k.active=b.Trim(k.active);m=null;if(0==k.active.indexOf("#")||0==k.active.indexOf("."))m=z.children(k.active).eq(0);-1<c.GetTabIndex(m)&&c.ShowActiveTab(m)}else m=e(k.active),0<m.length?c.ShowActiveTab(m):0<c.TabArray.length&&c.ShowActiveTab();e.fx.off=!0;c.UseScroll(k.scrollable);e.fx.off=!1;!1==c.CanScroll()&&e(".TabAddButton",v).hide();v=k.tabHeight;m=z.children(".TabButton").eq(0).get(0);!0!==k.noTools&&
null!=m&&(v=m.clientHeight);c.SetElementHeight(s,v);c.SetElementWidth(s,15);c.SetElementHeight(w,v);c.SetElementWidth(w,15);s.click(function(){"true"===e(this).data(b.Tag.ScollEnabled)&&"true"!==e(this).data(b.Tag.TabsMove)&&c.MoveToLeft(k.onScrolledLeft)});s.attr("title",k.tabMessage.ScrollLeft);s.dblclick(function(){"true"===e(this).data(b.Tag.ScollEnabled)&&"true"!==e(this).data(b.Tag.TabsMove)&&0<c.TabArray.length&&c.MoveToTabButton(c.TabArray[0])});s.mousedown(function(){a(e(this),c.TabsMoveObj.MaxOffset)});
w.click(function(){"true"===e(this).data(b.Tag.ScollEnabled)&&"true"!==e(this).data(b.Tag.TabsMove)&&c.MoveToRight(k.onScrolledRight)});w.attr("title",k.tabMessage.ScrollRight);w.dblclick(function(){if("true"===e(this).data(b.Tag.ScollEnabled)&&"true"!==e(this).data(b.Tag.TabsMove)){var a=c.TabArray.length;0<a&&c.MoveToTabButton(c.TabArray[a-1])}});w.mousedown(function(){a(e(this),c.TabsMoveObj.MinOffset)});s=e(".TabScrollBtn");s.mouseup(function(){d(e(this))});s.mouseleave(function(){e(this).mouseup()});
e(window).resize(function(){c.Refresh()});0>=c.TabArray.length&&"undefined"!=typeof opera&&z.width(e(".TabButton",z).eq(0).get(0).offsetWidth+25)},h._i_initialized_i_=!0)}var b;y.log=function(b){"undefined"!=typeof console?console.log(b):"undefined"!=typeof opera&&opera.postError(b)};var l=y;b={defaultOption:{tabs:{cssId:null,cssClass:null,caption:"Tab Button",title:null,image:null,icon:null,content:null,ajax:null,width:null,active:!1,enable:!0,index:9999,closable:null,closeMessage:null,panelPadding:null,
onClick:null,onActive:null,onClose:null},name:"JQueryTabView",active:null,activeType:"click",autoTabId:!1,tabIdText:"JQueryTab",tabCssClass:null,tabHeight:20,tabWidth:91,tabMinHeight:14,tabMinWidth:50,tabClosable:!0,spacing:2,panelHeight:null,panelPadding:5,scrollable:!0,moveOffset:-100,moveSpeed:0.25,lineHeight:5,tabMessage:{Close:"\u5173\u95ed",Expansion:"\u5c55\u5f00",Shrink:"\u6536\u8d77",Add:"\u6dfb\u52a0\u65b0\u9009\u9879\u5361",AddText:"\u8bf7\u8f93\u5165\u65b0\u9009\u9879\u5361\u7684\u63cf\u8ff0",
AddText2:"\u53cc\u51fb\u9f20\u6807\u5de6\u952e\u6216\u6309\u4e0b'Esc'\u952e\u8fdb\u884c\u9009\u9879\u5361\u8fdb\u7ea7\u8bbe\u7f6e",ScrollLeft:"\u53cc\u51fb\u79fb\u52a8\u5230\u6700\u5de6\u7aef",ScrollRight:"\u53cc\u51fb\u79fb\u52a8\u5230\u6700\u53f3\u7aef",LoadingFail:"\u8f7d\u5165\u5931\u8d25",ConnectFail:"\u65e0\u6cd5\u8bbf\u95ee\u8be5\u5730\u5740"},usePanel:!0,noAdvance:!1,noTools:!1,debug:!1,onTabActive:null,onTabActived:null,onTabClose:null,onTabClosed:null,onAddClick:null,onScrolledLeft:null,
onScrolledRight:null,onInit:null,onReady:null},ActiveType:["click","hover"],TabViewCount:0,Tag:{ViewUID:"JQueryTabViewUID",TabAPI:"TabViewAPI",TabConfig:"TabViewConfig",ScollEnabled:"TabScollEnabled",TabUID:"TabButtonUID",TabIndex:"TabButtonIndex",TabOption:"TabButtonOption",TabSpec:"TabSpecialBtn",TabsMove:"IsTabGoTo",TabTimeOut:"TabsMoveTimeOut",IframeURL:"TabIframeURL"},defaultAjax:{url:null,type:"GET",dataType:"text",data:null},Trim:function(d,c){if(!b.isType(d,"String"))return"";b.isType(c,"String")||
(c=" ");for(var a=c.length;d.length>=a&&d.substring(0,a)==c;)d=d.substring(a);for(var e=d.length-a;0<=e&&d.substring(e)==c;)d=d.substring(0,e),e=d.length-a;return d},StringFormat:function(d,c){if(!b.isType(d,"String")||null==c)return d;e.isArray(c)||(c=[c]);e.each(c,function(a,b){d=d.replace(RegExp("\\{"+a+"\\}","gm"),b)});return d},Copy:function(b){return e.extend({},b)},ConExec:function(b,c,a,e){!0===b&&this.Exec(c,a,e)},Exec:function(b,c,a){var f;e.isFunction(b)&&(f="object"==typeof a?e.isArray(c)?
b.apply(a,c):b.call(a,c):e.isArray(c)?b.apply(window,c):b.call(window,c));return f},isType:function(b,c){return"Null"===c&&null===b||"Undefined"===c&&void 0===b||"Number"===c&&!isNaN(parseFloat(b))&&isFinite(b)||Object.prototype.toString.call(b).slice(8,-1)===c},isURL:function(d){var c=/^(?:(?:(?:\w+\:\/\/(?=\w))?(?:\w[-_]+\w|\w)+(?:\.(?:\w[-_]+\w|\w)+)*(?:\:\d+)?(?:\/(?!\/))?)|\.\.\/(?!\/))(?:[^\*\?<>\|\:"\/\\]+(?:\/(?!\/)))*/;return b.isType(d,"String")&&c.test(b.Trim(d))},Process:function(d,c,
a){b.isType(d,"String")&&(d=b.Trim(d).replace(/#|\./g,""),"CssClass"!==c&&(d=d.replace(/\s*/g,"")),c=b.Exec(a,[d]),b.isType(c,"String")&&(d=c));return d},ClearIframe:function(b){for(i=0;i<b.length;i++){var c=b.eq(i),a=c.get(0),e=a.contentWindow;if(a){a.src="about:blank";try{e.document.write(""),e.document.clear()}catch(g){}c.parent().get(0).removeChild(a)}}window.CollectGarbage&&CollectGarbage()},MoveToWindowCenter:function(b){var b=e(b),c=e(window),a=c.width()/2-b.outerWidth()/2+c.scrollLeft(),c=
c.height()/2-b.outerHeight()/2+c.scrollTop();"static"===b.css("position")&&b.css("position","relative");b.css("left",a);b.css("top",c)},GetBorderWidth:function(b,c,a){c||(c=0);var e={},g;!1!==a&&(g=(g=b.css("boder-top-width"))?+g.replace("px",""):c,e.top=g,g=(g=b.css("boder-bottom-width"))?+g.replace("px",""):c,e.bottom=g);if(!0==a)return e;g=(g=b.css("boder-left-width"))?+g.replace("px",""):c;e.left=g;g=(g=b.css("boder-right-width"))?+g.replace("px",""):c;e.right=g;return e},GetStyleWidth:function(d,
c){var a="left",e="right",g=0;if(!0==c)var a="top",e="bottom",h=b.GetBorderWidth(d,0,!0),g=g+(h.top+h.bottom);else h=b.GetBorderWidth(d,0,!1),g+=h.left+h.right;a=(a=d.css("padding-"+a))?+a.replace("px",""):3;g+=a;a=(a=d.css("padding-"+e))?+a.replace("px",""):3;return g+a},GetElementSize:function(b){var c={};c.width=b.outerWidth();c.height=b.outerHeight();return c},SortBubble:function(b,c){var a=!0;for(i=a=0;i<b.length-1;i++){a=!0;for(j=0;j<b.length-i-1;j++)0<c(b[j],b[j+1])&&(a=b[j],b[j]=b[j+1],b[j+
1]=a,a=!1);if(!0==a)break}},Registration:function(b){if("undefined"==typeof e.fn.JQueryTabView.TabViewArray||!1==e.fn.JQueryTabView.TabViewArray instanceof Array)e.fn.JQueryTabView.TabViewArray=[];e.fn.JQueryTabView.TabViewArray.push(b)},Logout:function(d){var c=null,a=e.fn.JQueryTabView.TabViewArray;a instanceof Array&&(d=b.GetTabViewIndex(d),0<=d&&(c=a.splice(d,1)[0]));return c},ExtendTabs:function(d){if(e.isArray(d)){var c=Array(d.length);for(i=0;i<d.length;i++)c[i]=e.extend(!0,{},b.defaultOption.tabs,
d[i]);d=c}else d=e.extend(!0,{},b.defaultOption.tabs,d);return d},ExtendOption:function(d){this.userOption=d;var c=b.defaultOption,a=null,a=b.Copy(d);d.tabs&&(a.tabs=b.ExtendTabs(d.tabs));return a=e.extend(!0,{},c,a)},GetTabViewIndex:function(d){var c=e.fn.JQueryTabView.TabViewArray,a=-1;if(c instanceof Array){var f=d;d instanceof e&&(f=b.GetTabViewUID(d));e.each(c,function(c,d){if(b.GetTabViewUID(d)==f)return a=c,!1})}return a},GetTabView:function(d){var c=null,a=e.fn.JQueryTabView.TabViewArray;
a instanceof Array&&(c=a[b.GetTabViewIndex(""+d)]);return c},GetDefaultOption:function(){return b.Copy(b.defaultOption)},SetConfig:function(d,c){d.data(b.Tag.TabConfig,c)},GetConfig:function(d){return d.data(b.Tag.TabConfig)},SetAPI:function(d,c){d.data(b.Tag.TabAPI,c)},GetAPI:function(d){return b.Copy(d.data(b.Tag.TabAPI))},SetTabOption:function(d,c){d.data(b.Tag.TabOption,c)},GetTabOption:function(d){return d.data(b.Tag.TabOption)},GetTabViewUID:function(d){return d.data(b.Tag.ViewUID)},GetScollEnabled:function(d){var c=
function(a){return"true"==a?!0:"false"==a?!1:a},a={},d=b.GetConfig(d);a.left=c(d.GetLeftScollEnabled());a.right=c(d.GetRightScollEnabled());return a},ShowTab:function(d,c){var a=b.GetConfig(d);b.isType(c,"String")&&(c=+c);if(b.isType(c,"Number")){if(c=a.GetTabObject(c),null==c)return}else c instanceof e||(c=e(c));a.ShowActiveTab(c)},UseScroll:function(d,c){var a=b.GetConfig(d);"boolean"!=typeof c&&(c=!0);c=a.UseScroll(c);!0==c&&e(".TabScrollBtn",d).css("height",""+(e(".TabShowArea",d).eq(0).get(0).offsetHeight-
2)+"px");return c},TriggerScroll:function(d){return this.UseScroll(d,!b.GetConfig(d).option.scrollable)},AddTabButton:function(d,c,a){var c=b.ExtendTabs(c),f=b.GetConfig(d);if(!f)return l("\u4e25\u91cd\u9519\u8bef, \u65e0\u6cd5\u83b7\u53d6\u914d\u7f6e\u5bf9\u8c61, \u6dfb\u52a0\u6309\u94ae\u5931\u8d25!",d),alert("\u9519\u8bef!");f.AddNewTabButtons(c,a);if("number"!=typeof a||isNaN(a))if(e.isArray(c)){for(var d=[],a=0,g=c.length;a<g;a++)d.push(c[a].index);d.sort(function(a,b){return a-b});a=d[0]}else a=
c.index;a>=f.TabArray.length&&(a=f.TabArray.length-1);null===f.GetActiveTab()?f.ShowActiveTab(f.GetTabObject(a)):f.MoveToTabButton(f.GetTabObject(a))},RemoveTabButton:function(d,c){var a=b.GetConfig(d);"string"==typeof c&&(c=+c);if(b.isType(c,"Number")){if(c=a.GetTabObject(c),null==c)return}else c instanceof e||(c=e(c));a.RemoveTabButton(c)},RefreshTabView:function(d){b.GetConfig(d).Refresh()}};e.extend(e.fn,{JQueryTabView:function(d){b.isType(d,"Undefined")&&(d={});b.Exec(d.onInit,null,this);e.fn.JQueryTabView.toString=
function(){return"JQuery\u9009\u9879\u5361 \n\tAuthor: Darkmuleth"};var c=b.defaultOption;e.fn.JQueryTabView.defaultOption=b.Copy(c);var a=b.ExtendOption(d);if(null==a)l(b.TabViewCount+" > \u63d2\u4ef6\u521d\u59cb\u5316\u5931\u8d25");else{b.isType(d.tabs,"Undefined")&&(a.tabs=null);a.activeType=b.Trim(a.activeType).toLowerCase();b.isType(a.tabMinHeight,"Number")?0>a.tabMinHeight&&(a.tabMinHeight=Math.abs(a.tabMinHeight)):a.tabMinHeight=b.defaultOption.tabMinHeight;b.isType(a.tabMinWidth,"Number")?
0>a.tabMinWidth&&(a.tabMinWidth=Math.abs(a.tabMinWidth)):a.tabMinWidth=b.defaultOption.tabMinWidth;!b.isType(a.moveOffset,"Number")||0===a.moveOffset?a.moveOffset=c.moveOffset:0>a.moveOffset&&(a.moveOffset=Math.abs(a.moveOffset));!b.isType(a.moveSpeed,"Number")||0===a.moveSpeed?a.moveSpeed=c.moveSpeed:0>a.moveSpeed&&(a.moveSpeed=Math.abs(a.moveSpeed));b.isType(a.spacing,"Number")||(a.spacing=c.spacing);b.isType(a.lineHeight,"Number")||(a.lineHeight=c.lineHeight);var d=e(this).addClass("TabParent"),
f=e("<div class='TabMainArea'/>");d.append(f);var g=new h(f,a);b.SetConfig(f,g);b.Registration(f);if(!a.name||!b.isType(a.name,"String"))a.name=c.name;f.data(b.Tag.ViewUID,a.name+"_"+b.TabViewCount++);l("\u63d2\u4ef6\u7528\u6237\u914d\u7f6e\u6269\u5c55\u5b8c\u6210, \u83b7\u53d6UID: "+b.GetTabViewUID(f),f);g.Init();c={GetTabViewIndex:function(){return b.GetTabViewIndex(f)},RemoveTabView:function(a){b.isType(a,"Undefined")&&(a=f);a=b.Logout(a);null!=a&&a.remove()},GetTabViewUID:function(){return b.GetTabViewUID(f)},
GetConfig:function(){return b.GetConfig(f)},ShowTab:function(a){b.ShowTab(f,a)},UseScroll:function(a){return b.UseScroll(f,a)},TriggerScroll:function(){return b.TriggerScroll(f)},AddTabButton:function(a,c){b.AddTabButton(f,a,c)},RemoveTabButton:function(a){b.RemoveTabButton(f,a)},RefreshTabView:function(){b.RefreshTabView(f)}};c=e.extend(d,c);b.SetAPI(f,c);e(window).unload(function(){b.ClearIframe(e("iframe",f))});l("==== \u521d\u59cb\u5316\u5b8c\u6210 ====\n\n",f);b.Exec(a.onReady,[c],f);return b.GetAPI(f)}},
GetTabViewIndex:function(){return b.GetTabViewIndex(e(".TabMainArea",this).eq(0))},GetTabView:function(d){return b.GetTabView(d)},RemoveTabView:function(d){b.isType(d,"Undefined")&&(d=e(".TabMainArea",this).eq(0));d=b.Logout(d);null!=d&&d.remove()},GetTabViewUID:function(){return b.GetTabViewUID(e(".TabMainArea",this).eq(0))},ShowTab:function(d){b.ShowTab(e(".TabMainArea",this).eq(0),d)},UseScroll:function(d){return b.UseScroll(e(".TabMainArea",this).eq(0),d)},TriggerScroll:function(){return b.TriggerScroll(e(".TabMainArea",
this).eq(0))},AddTabButton:function(d,c){b.AddTabButton(e(".TabMainArea",this).eq(0),d,c);return e(this)},RemoveTabButton:function(d){b.RemoveTabButton(e(".TabMainArea",this).eq(0),d);return e(this)},RefreshTabView:function(){b.RefreshTabView(e(".TabMainArea",this).eq(0))}})})(jQuery);
